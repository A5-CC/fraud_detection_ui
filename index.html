<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Candidate Review — Senior Machine Learning Scientist Position</title>

  <!-- Roboto regular for readability -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#efefef;
      --panel-bg: rgba(255,255,255,0.97);
      --muted:#6f777b;
      --text:#111214;
      --panel-shadow: 0 10px 30px rgba(6,10,12,0.06);
      --bar-bg:#e6e6e6;
      --selected:#efefef;
      --green:#2f7f2f;
      --yellow:#a57800;
      --orange:#d96d1a;
      --red:#8a1f1f;
      --btn-gray:#9e9e9e;
      --btn-gray-hover:#757575;
    }

    html,body{height:100%;margin:0;font-family:'Roboto',sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    header{position:fixed;left:0;right:0;top:0;height:52px;padding:8px 18px;background:#0f1112;color:white;z-index:40;display:flex;align-items:center;font-size:15px;font-weight:500;box-shadow:0 2px 6px rgba(0,0,0,0.12)}
    .app{display:flex;height:calc(100vh - 52px);margin-top:52px;width:100%;overflow:hidden}

    /* LEFT */
    .left{width:340px;min-width:220px;max-width:50%;background:var(--panel-bg);border-right:1px solid rgba(0,0,0,0.06);overflow:auto;padding:14px;box-shadow:var(--panel-shadow)}
    .candidate-item{display:flex;align-items:center;gap:12px;padding:10px;border-radius:8px;margin-bottom:10px;background:transparent;cursor:pointer;border:1px solid rgba(0,0,0,0.03);transition:background .12s,transform .08s}
    .candidate-item:hover{transform:translateY(-2px);background:rgba(0,0,0,0.02)}
    .candidate-item.selected{background:var(--selected);border-color:rgba(0,0,0,0.06)}
    .candidate-avatar{width:56px;height:56px;border-radius:8px;background:#cfcfcf;background-size:cover;background-position:center;flex:0 0 56px;box-shadow:0 4px 10px rgba(0,0,0,0.06)}
    .candidate-meta{flex:1;min-width:0;overflow:hidden}
    .candidate-name{margin:0;font-size:14px;font-weight:500;color:var(--text)}
    .candidate-title{margin:4px 0 0 0;font-size:12px;color:var(--muted)}
    .compatibility-only{margin-top:6px;font-size:12px;font-weight:500}
    .compat-high{color:var(--green)}
    .compat-mid{color:var(--orange)}
    .compat-low{color:var(--red)}

    /* resizer */
    .resizer{width:6px;cursor:col-resize;background:linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0.01))}

    /* RIGHT */
    .right{flex:1;min-width:420px;display:flex;flex-direction:column;overflow:auto;padding:20px;gap:18px;background:linear-gradient(180deg, rgba(255,255,255,0.96), rgba(250,250,250,0.96))}
    .panel{background:var(--panel-bg);border-radius:10px;padding:14px;box-shadow:var(--panel-shadow);border:1px solid rgba(0,0,0,0.04)}
    .panel h3{margin:0 0 8px 0;font-weight:600;color:var(--text)}
    .subtle{color:var(--muted);font-size:13px;margin-bottom:8px}

    /* bar */
    .bar-row{margin:10px 0}
    .bar-label{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--muted);margin-bottom:6px}
    .bar{height:14px;background:var(--bar-bg);border-radius:10px;position:relative;overflow:hidden;box-shadow:inset 0 1px 0 rgba(255,255,255,0.4)}
    .bar-fill{height:100%;width:0%;border-radius:10px;display:flex;align-items:center;justify-content:center;padding:0 8px;color:transparent;font-size:12px;font-weight:500;transition:width 400ms ease, background-color 300ms ease}
    /* hide percent text inside bars */
    .pct{display:none}

    details{margin-top:8px}
    summary{font-weight:500;cursor:pointer;outline:none}
    .detail-body{margin-top:8px;color:var(--text);font-size:13px;line-height:1.45}

    .simple-list{margin:8px 0 0 18px;padding:0;color:var(--text);font-size:13px}
    .simple-list li{margin-bottom:8px}
    .reco-list{margin:8px 0 0 18px;padding:0;color:var(--text);font-size:13px}
    .footer-note{font-size:12px;color:var(--muted);margin-top:6px}

    /* bottom action area containing continue button */
    .actions {
      display:flex;
      justify-content:flex-end;
      gap:12px;
      padding:6px 0 20px 0;
    }
    .continue-btn{
      padding:10px 18px;
      background:var(--btn-gray);
      color:#fff;
      border:none;
      border-radius:6px;
      font-family:'Roboto',sans-serif;
      font-weight:500;
      cursor:pointer;
      text-decoration:none;
    }
    .continue-btn:hover{background:var(--btn-gray-hover)}

    @media (max-width:900px){.left{width:260px}}
  </style>
</head>
<body>
  <header>Candidate Review — Senior Machine Learning Scientist Position</header>

  <div class="app">
    <div class="left" id="leftPanel"></div>
    <div class="resizer" id="resizer"></div>

    <div class="right" id="rightPanel">
      <!-- Identity -->
      <div class="panel" id="identifyPanel">
        <h3>Identity Check</h3>

        <div class="bar-row">
          <div class="bar-label"><span>LinkedIn Quality</span></div>
          <div class="bar"><div id="linkedinBar" class="bar-fill" role="progressbar" aria-valuemin="0" aria-valuemax="100"><span class="pct" id="linkedinPct"></span></div></div>
          <details><summary>Details</summary><div class="detail-body" id="linkedinDetails">—</div></details>
        </div>

        <div class="bar-row">
          <div class="bar-label"><span>Public Records Check</span></div>
          <div class="bar"><div id="publicBar" class="bar-fill" role="progressbar" aria-valuemin="0" aria-valuemax="100"><span class="pct" id="publicPct"></span></div></div>
          <details><summary>Details</summary><div class="detail-body" id="publicDetails">—</div></details>
        </div>
      </div>

      <!-- Qualification -->
      <div class="panel" id="qualPanel">
        <h3>Qualification Assessment</h3>
        <div class="subtle">Compatibility is the candidate's fit for this role (skills + relevancy). Identity checks are separate but affect the overall match.</div>

        <div class="bar-row">
          <div class="bar-label"><span>Compatibility Score</span></div>
          <div class="bar"><div id="compatBar" class="bar-fill" role="progressbar" aria-valuemin="0" aria-valuemax="100"><span class="pct" id="compatPct"></span></div></div>
        </div>

        <h4 style="margin:12px 0 6px 0;font-weight:600">Relevancy</h4>

        <div class="bar-row">
          <div class="bar-label"><span>Peer companies — how similar past employers are</span></div>
          <div class="bar"><div id="peerBar" class="bar-fill" role="progressbar" aria-valuemin="0" aria-valuemax="100"><span class="pct" id="peerPct"></span></div></div>
        </div>

        <div class="bar-row">
          <div class="bar-label"><span>Position alignment — role-to-role fit</span></div>
          <div class="bar"><div id="positionBar" class="bar-fill" role="progressbar" aria-valuemin="0" aria-valuemax="100"><span class="pct" id="positionPct"></span></div></div>
        </div>

        <details>
          <summary>Details</summary>
          <div class="detail-body" id="relevancyDetails">—</div>
        </details>

        <h4 style="margin-top:12px;font-weight:600">Strengths</h4>
        <ul class="simple-list" id="strengthsList"></ul>

        <h4 style="margin-top:12px;font-weight:600">Potential Gaps</h4>
        <ul class="simple-list" id="gapsList"></ul>

      </div>

      <div class="actions">
        <a class="continue-btn" href="interview.html">Continue to Interview</a>
      </div>
    </div>
  </div>

<script>
  // fictional candidates
  const candidates = [
    { id:0, name:"Avery Cole", title:"Senior ML Scientist", location:"New York, NY", photo:"profile.png",
      compatibility:94, linkedinScore:92, publicScore:88, peer:96, position:92,
      pastCompanies:["Nimbus Labs","AeroTech Research","Cumulus AI"],
      linkedinDetails:{profileAge:"7+ years",connections:410,followers:390,endorsements:{NLP:12,Python:9,Statistics:7},activity:"regular",url:"#"},
      publicRecords:{degreesVerified:["PhD"],transcriptsVerified:1,patents:2,publications:8,mediaMentions:4},
      strengths:[
        {k:"Leadership",d:"Led cross-discipline research teams and coordinated production releases."},
        {k:"Technical",d:"Strong in NLP, LLM evaluation and large-scale model deployment."},
        {k:"Communication",d:"Regular speaker and paper author at top conferences."}
      ],
      gaps:[
        {k:"Java",d:"No significant Java experience listed; role may occasionally require Java interoperability."},
        {k:"ProductMgmt",d:"Under 10 years of direct product management exposure for product-led roles."},
        {k:"LangChain",d:"No public mention of LangChain or agent frameworks."}
      ],
      recommendations:["Applied Research Engineer – NLP","Principal Data Scientist","Research Manager"]
    },
    { id:1, name:"Riley Morgan", title:"Applied Scientist", location:"San Francisco, CA", photo:"profile1.png",
      compatibility:91, linkedinScore:42, publicScore:38, peer:93, position:89,
      pastCompanies:["EdgeSys","PolarAI"],
      linkedinDetails:{profileAge:"3 years",connections:75,followers:110,endorsements:{ML:5,Python:3},activity:"rare",url:"#"},
      publicRecords:{degreesVerified:[],transcriptsVerified:0,patents:0,publications:0,mediaMentions:0},
      strengths:[
        {k:"Optimization",d:"Expert in model compression and quantization."},
        {k:"Systems",d:"Built edge inference pipelines under resource constraints."},
        {k:"Practical",d:"Delivered low-latency, production-focused solutions."}
      ],
      gaps:[
        {k:"Visibility",d:"Sparse public footprint; limited public verification points."},
        {k:"Publications",d:"Few or no academic publications to validate research claims."},
        {k:"LangChain",d:"No LangChain/agent experience mentioned."}
      ],
      recommendations:["ML Systems Engineer","Applied Scientist (Edge)","Inference Engineer"]
    },
    { id:2, name:"Jordan Hayes", title:"Research Scientist", location:"Boston, MA", photo:"profile2.png",
      compatibility:89, linkedinScore:80, publicScore:78, peer:88, position:86,
      pastCompanies:["Vertex Research","Lattice Labs"],
      linkedinDetails:{profileAge:"6 years",connections:380,followers:260,endorsements:{Research:11,Python:8},activity:"weekly",url:"#"},
      publicRecords:{degreesVerified:["PhD"],transcriptsVerified:1,patents:1,publications:6,mediaMentions:2},
      strengths:[
        {k:"Technical",d:"Representation learning and graph methods expertise."},
        {k:"Mentorship",d:"Experience mentoring graduate students and interns."},
        {k:"Communication",d:"Strong technical writing and documentation skills."}
      ],
      gaps:[
        {k:"ScaleOps",d:"Less experience with production-scale distributed training."},
        {k:"ProductExposure",d:"Limited product-facing delivery experience compared to pure research roles."},
        {k:"Tooling",d:"No explicit mention of certain MLOps tools (e.g., Kubeflow) in public data."}
      ],
      recommendations:["Senior Research Scientist","ML Team Lead","R&D Lead"]
    },
    { id:3, name:"Taylor Brooks", title:"ML Engineer", location:"Seattle, WA", photo:"profile3.png",
      compatibility:78, linkedinScore:70, publicScore:66, peer:74, position:73,
      pastCompanies:["CloudForge","StreamlineAI"],
      linkedinDetails:{profileAge:"5 years",connections:220,followers:160,endorsements:{Python:9,Cloud:7},activity:"monthly",url:"#"},
      publicRecords:{degreesVerified:["MSc"],transcriptsVerified:1,patents:0,publications:2,mediaMentions:1},
      strengths:[
        {k:"Deployment",d:"Proven CI/CD & model monitoring capabilities for production systems."},
        {k:"Cloud",d:"Designed and operated AWS-based ML pipelines."},
        {k:"Collaboration",d:"Experienced in cross-functional engineering collaboration."}
      ],
      gaps:[
        {k:"ResearchDepth",d:"Few first-author research papers to demonstrate deep R&D background."},
        {k:"AdvancedModels",d:"Limited public evidence of work on latest LLM architectures."},
        {k:"DomainSpecific",d:"Less experience in domain-specific research (e.g., speech synthesis)."}
      ],
      recommendations:["Machine Learning Engineer","MLOps Specialist"]
    },
    { id:4, name:"Casey Flynn", title:"Data Scientist", location:"Chicago, IL", photo:"profile4.png",
      compatibility:61, linkedinScore:56, publicScore:60, peer:59, position:63,
      pastCompanies:["Retaillytics","DataForge"],
      linkedinDetails:{profileAge:"4 years",connections:140,followers:90,endorsements:{DataAnalysis:6,SQL:5},activity:"rare",url:"#"},
      publicRecords:{degreesVerified:["BSc"],transcriptsVerified:1,patents:0,publications:0,mediaMentions:0},
      strengths:[
        {k:"Analysis",d:"Strong feature engineering and exploratory data analysis."},
        {k:"SQL",d:"Proven ETL and SQL skills for production pipelines."},
        {k:"Visualization",d:"Creates clear dashboards for stakeholders."}
      ],
      gaps:[
        {k:"DeepLearning",d:"Limited deep learning experience for advanced ML roles."},
        {k:"EngineeringScale",d:"Minimal experience with large-scale model deployment."},
        {k:"Research",d:"No notable academic publications."}
      ],
      recommendations:["Data Analyst","Junior ML Engineer"]
    },
    { id:5, name:"Harper Quinn", title:"Senior ML Researcher", location:"New York, NY", photo:"profile5.png",
      compatibility:86, linkedinScore:87, publicScore:82, peer:85, position:84,
      pastCompanies:["NeuralWorks","OpenFoundry"],
      linkedinDetails:{profileAge:"8 years",connections:460,followers:490,endorsements:{Research:13,Python:11},activity:"regular",url:"#"},
      publicRecords:{degreesVerified:["PhD"],transcriptsVerified:1,patents:2,publications:10,mediaMentions:5},
      strengths:[
        {k:"Research",d:"Multiple first-author papers and patents across relevant fields."},
        {k:"Technical",d:"Deep expertise in generative modeling and synthesis."},
        {k:"Leadership",d:"Led large research efforts with cross-team coordination."}
      ],
      gaps:[
        {k:"BusinessFacing",d:"Less direct evidence of business-facing product management experience."},
        {k:"MLops",d:"Fewer public references to MLOps/tooling for large-scale deployments."},
        {k:"LangChain",d:"No public mention of agent-framework experience."}
      ],
      recommendations:["Research Scientist","Principal ML Researcher"]
    },
    { id:6, name:"Morgan Blake", title:"Applied Scientist", location:"Austin, TX", photo:"profile6.png",
      compatibility:81, linkedinScore:71, publicScore:66, peer:78, position:76,
      pastCompanies:["ImageCore","RetailTech"],
      linkedinDetails:{profileAge:"5 years",connections:270,followers:210,endorsements:{CV:9,Python:7},activity:"biweekly",url:"#"},
      publicRecords:{degreesVerified:["MSc"],transcriptsVerified:1,patents:0,publications:3,mediaMentions:1},
      strengths:[
        {k:"CV",d:"Practical experience with computer vision pipelines and deployment."},
        {k:"Product",d:"Worked closely with product teams to ship features."},
        {k:"Optimization",d:"Expertise in model performance tuning."}
      ],
      gaps:[
        {k:"DistributedTraining",d:"Limited public evidence of multi-node distributed training."},
        {k:"ResearchPublications",d:"Fewer peer-reviewed publications than core research hires."},
        {k:"Frameworks",d:"No explicit mention of some industrial frameworks (e.g., Ray)."}
      ],
      recommendations:["Applied Scientist (CV)","Computer Vision Engineer"]
    },
    { id:7, name:"Rowan Vale", title:"Lead ML Engineer", location:"Tokyo, JP", photo:"profile7.png",
      compatibility:87, linkedinScore:34, publicScore:31, peer:88, position:85,
      pastCompanies:["EmbeddedAI","MicroInference"],
      linkedinDetails:{profileAge:"2 years",connections:48,followers:22,endorsements:{Embedded:3},activity:"none",url:"#"},
      publicRecords:{degreesVerified:[],transcriptsVerified:0,patents:0,publications:0,mediaMentions:0},
      strengths:[
        {k:"Systems",d:"Expertise in embedded ML and inference optimization."},
        {k:"Practical",d:"Shipped firmware-integrated ML solutions."},
        {k:"Latency",d:"Specialist in low-latency inference."}
      ],
      gaps:[
        {k:"PublicVisibility",d:"Low public footprint limits automated verification."},
        {k:"AcademicPublications",d:"No academic publications to reference."},
        {k:"Transcripts",d:"No transcripts publicly verified."}
      ],
      recommendations:["Lead ML Engineer","Embedded ML Architect"]
    },
    { id:8, name:"Emerson Vale", title:"Research Engineer", location:"Madrid, ES", photo:"profile8.png",
      compatibility:70, linkedinScore:61, publicScore:58, peer:68, position:70,
      pastCompanies:["NeuroForge","BioWorks"],
      linkedinDetails:{profileAge:"5 years",connections:180,followers:140,endorsements:{BioML:6,Python:5},activity:"monthly",url:"#"},
      publicRecords:{degreesVerified:["PhD"],transcriptsVerified:1,patents:0,publications:4,mediaMentions:1},
      strengths:[
        {k:"BioML",d:"Applied ML on biological and longitudinal data."},
        {k:"Algorithms",d:"Strong algorithmic foundations and statistical modeling."},
        {k:"Engineering",d:"Good engineering rigor in research codebases."}
      ],
      gaps:[
        {k:"ProductionExperience",d:"Less evidence of production-scale model deployments."},
        {k:"IndustryExposure",d:"Fewer cross-industry roles compared to product hires."},
        {k:"MLOps",d:"Limited public mention of MLOps tooling experience."}
      ],
      recommendations:["Research Engineer","ML Scientist"]
    },
    { id:9, name:"Kai Mercer", title:"Senior Data Engineer", location:"Seattle, WA", photo:"profile9.png",
      compatibility:73, linkedinScore:67, publicScore:71, peer:70, position:68,
      pastCompanies:["DataStream","RetailOps"],
      linkedinDetails:{profileAge:"6 years",connections:250,followers:210,endorsements:{SQL:10,BigData:8},activity:"frequent",url:"#"},
      publicRecords:{degreesVerified:["BSc"],transcriptsVerified:1,patents:0,publications:0,mediaMentions:2},
      strengths:[
        {k:"Engineering",d:"Built streaming platforms and large-scale ETL pipelines."},
        {k:"Collaboration",d:"Works effectively with analytics and ML teams."},
        {k:"Reliability",d:"Strong focus on resilient data systems."}
      ],
      gaps:[
        {k:"ResearchDepth",d:"Limited record of research publications for research-focused roles."},
        {k:"ModelingExperience",d:"Less experience in advanced deep learning model design."},
        {k:"AcademicBackground",d:"No postgraduate research degree listed."}
      ],
      recommendations:["Senior Data Engineer","MLOps Engineer"]
    },
    { id:10, name:"Blair Reed", title:"ML Researcher", location:"Palo Alto, CA", photo:"profile10.png",
      compatibility:84, linkedinScore:79, publicScore:75, peer:82, position:80,
      pastCompanies:["Quanta Labs","Signal Research"],
      linkedinDetails:{profileAge:"6 years",connections:310,followers:220,endorsements:{ML:10,Python:7},activity:"regular",url:"#"},
      publicRecords:{degreesVerified:["PhD"],transcriptsVerified:1,patents:1,publications:5,mediaMentions:2},
      strengths:[
        {k:"Modeling",d:"Probabilistic modeling and principled ML methods."},
        {k:"Research",d:"Published multiple peer-reviewed papers."},
        {k:"Implementation",d:"Translates research into reproducible code."}
      ],
      gaps:[
        {k:"Deployment",d:"Less evidence of end-to-end production deployments at scale."},
        {k:"ProductLeadership",d:"Limited direct product leadership examples."},
        {k:"LangChain",d:"No explicit mention of agent frameworks or chain tooling."}
      ],
      recommendations:["Research Scientist","Senior ML Engineer"]
    },
    { id:11, name:"Skylar Ren", title:"Applied ML Engineer", location:"Austin, TX", photo:"profile11.png",
      compatibility:77, linkedinScore:69, publicScore:64, peer:75, position:74,
      pastCompanies:["Streamix","Platform AI"],
      linkedinDetails:{profileAge:"5 years",connections:205,followers:150,endorsements:{Python:7,Cloud:6},activity:"monthly",url:"#"},
      publicRecords:{degreesVerified:["MSc"],transcriptsVerified:1,patents:0,publications:2,mediaMentions:1},
      strengths:[
        {k:"Deployment",d:"Experience shipping models with monitoring & retraining loops."},
        {k:"Cloud",d:"Practical knowledge of AWS and container infra."},
        {k:"Collaboration",d:"Effective cross-team communicator."}
      ],
      gaps:[
        {k:"Publications",d:"Limited number of peer-reviewed publications."},
        {k:"ResearchDepth",d:"Less evidence for deep research contributions."},
        {k:"Leadership",d:"Limited senior leadership experience listed."}
      ],
      recommendations:["Machine Learning Engineer","MLOps Specialist"]
    },
    { id:12, name:"Rowan Pike", title:"Data Scientist", location:"Denver, CO", photo:"profile12.png",
      compatibility:67, linkedinScore:59, publicScore:62, peer:66, position:65,
      pastCompanies:["InsightWorks","RetailData"],
      linkedinDetails:{profileAge:"4 years",connections:160,followers:100,endorsements:{Stats:6,Python:5},activity:"occasionally",url:"#"},
      publicRecords:{degreesVerified:["BSc"],transcriptsVerified:1,patents:0,publications:1,mediaMentions:0},
      strengths:[
        {k:"Stats",d:"Strong statistical modeling and inference."},
        {k:"ETL",d:"Experience building data pipelines for analytics."},
        {k:"Reporting",d:"Clear stakeholder reporting and dashboards."}
      ],
      gaps:[
        {k:"DeepLearning",d:"Limited exposure to deep learning architectures."},
        {k:"LargeScaleOps",d:"Fewer projects involving production-scale ML."},
        {k:"Research",d:"Minimal academic publication footprint."}
      ],
      recommendations:["Data Scientist","Analytics Engineer"]
    },
    { id:13, name:"Peyton Moss", title:"Research Engineer", location:"San Jose, CA", photo:"profile13.png",
      compatibility:75, linkedinScore:65, publicScore:63, peer:74, position:72,
      pastCompanies:["NeoResearch","Signal Labs"],
      linkedinDetails:{profileAge:"5 years",connections:200,followers:145,endorsements:{Research:7,Python:6},activity:"monthly",url:"#"},
      publicRecords:{degreesVerified:["MSc"],transcriptsVerified:1,patents:0,publications:3,mediaMentions:1},
      strengths:[
        {k:"Algorithms",d:"Solid algorithms and optimization background."},
        {k:"Engineering",d:"Production-focused engineering with solid testing."},
        {k:"Crossmodal",d:"Experience with multimodal architectures."}
      ],
      gaps:[
        {k:"Leadership",d:"Limited senior leadership experience for manager roles."},
        {k:"ScaleOps",d:"Less exposure to large-scale distributed training."},
        {k:"Publications",d:"Modest number of publications compared to senior researchers."}
      ],
      recommendations:["Research Engineer","Applied Scientist"]
    },
    { id:14, name:"Alex Rowan", title:"ML Specialist", location:"Chicago, IL", photo:"profile14.png",
      compatibility:68, linkedinScore:57, publicScore:55, peer:67, position:66,
      pastCompanies:["MetricAI","UrbanData"],
      linkedinDetails:{profileAge:"4 years",connections:170,followers:125,endorsements:{ML:6,Python:5},activity:"rare",url:"#"},
      publicRecords:{degreesVerified:["MSc"],transcriptsVerified:0,patents:0,publications:1,mediaMentions:0},
      strengths:[
        {k:"FeatureEng",d:"Strong feature engineering and preprocessing skills."},
        {k:"MLops",d:"Operationalized models in staging/test environments."},
        {k:"Testing",d:"Good unit & integration testing practices for ML code."}
      ],
      gaps:[
        {k:"Publications",d:"Limited peer-reviewed publications for research roles."},
        {k:"Transcripts",d:"No transcript verification for some degrees in public data."},
        {k:"ResearchDepth",d:"Less depth in novel ML research outputs."}
      ],
      recommendations:["ML Specialist","Data Engineer"]
    }
  ];

  // compute an overall match score for each candidate using the right-panel metrics:
  // weights: compatibility 40%, linkedin 20%, public records 20%, peer 10%, position 10%
  function computeOverall(c){
    const w = {compat:0.4, ln:0.2, pr:0.2, peer:0.1, pos:0.1};
    const score =
      ( (c.compatibility || 0) * w.compat ) +
      ( (c.linkedinScore || 0) * w.ln ) +
      ( (c.publicScore || 0) * w.pr ) +
      ( (c.peer || 0) * w.peer ) +
      ( (c.position || 0) * w.pos );
    return Math.round(score);
  }

  // overall qualitative label
  function overallLabel(score){
    if(score >= 80) return {label:'High', cls:'compat-high'};
    if(score >= 65) return {label:'Medium', cls:'compat-mid'};
    return {label:'Low', cls:'compat-low'};
  }

  // color mapping for bar fill based on pct
  function colorForPct(p){
    // gradient buckets: 0-49 = red, 50-64 = orange, 65-79 = yellow/orange, 80-100 = green
    if(p >= 80) return '#2f7f2f';        // green
    if(p >= 65) return '#d96d1a';        // orange (closer to yellow/orange)
    if(p >= 50) return '#f1a12b';        // lighter orange
    return '#8a1f1f';                   // red
  }

  // attach overallMatch to each candidate
  candidates.forEach(c => c.overallMatch = computeOverall(c));

  // sort by overallMatch descending
  candidates.sort((a,b)=>b.overallMatch - a.overallMatch);

  const leftPanel = document.getElementById('leftPanel');

  function renderLeft(){
    leftPanel.innerHTML = '';
    candidates.forEach((c, idx)=>{
      const item = document.createElement('div');
      item.className = 'candidate-item';
      item.dataset.index = idx;
      const label = overallLabel(c.overallMatch);
      item.innerHTML = `
        <div class="candidate-avatar" style="background-image:url('${c.photo}')"></div>
        <div class="candidate-meta">
          <div style="display:flex;align-items:center;gap:8px"><div class="candidate-name">${c.name}</div></div>
          <div class="candidate-title">${c.title} • ${c.location}</div>
          <div class="compatibility-only ${label.cls}">Overall Match — ${label.label}</div>
        </div>
      `;
      item.addEventListener('click', ()=> selectCandidate(idx));
      leftPanel.appendChild(item);
    });
    selectCandidate(0);
  }

  // set bar with color-coded fill; do not show numeric pct inside bars
  function setBarFill(barId, pct){
    const el = document.getElementById(barId);
    if(!el) return;
    const p = Math.max(0, Math.min(100, Math.round(pct)));
    el.style.width = p + '%';
    el.style.background = colorForPct(p);
    // ensure no text shown inside
    const span = el.querySelector('.pct');
    if(span) span.textContent = '';
  }

  function selectCandidate(i){
    // highlight selected
    document.querySelectorAll('.candidate-item').forEach((el, idx)=> el.classList.toggle('selected', idx===i));
    const c = candidates[i];

    // identity bars and details (no numbers shown)
    setBarFill('linkedinBar', c.linkedinScore);
    setBarFill('publicBar', c.publicScore);

    const ln = c.linkedinDetails || {};
    document.getElementById('linkedinDetails').innerHTML = `
      <div><strong>Profile age:</strong> ${ln.profileAge || 'N/A'}</div>
      <div><strong>Connections:</strong> ${ln.connections || 'N/A'} · <strong>Followers:</strong> ${ln.followers || 'N/A'}</div>
      <div><strong>Endorsements:</strong> ${(ln.endorsements) ? Object.entries(ln.endorsements).map(e=>`${e[0]} (${e[1]})`).join(', ') : 'N/A'}</div>
      <div><strong>Activity:</strong> ${ln.activity || 'N/A'}</div>
      <div style="margin-top:6px">
        <a href="https://www.linkedin.com" target="_blank" style="color:#0a66c2; text-decoration:none; font-weight:600;">
          View LinkedIn Profile
        </a>
      </div>
    `;

    const pr = c.publicRecords || {};
    document.getElementById('publicDetails').innerHTML = `
      <div><strong>Degrees verified:</strong> ${pr.degreesVerified && pr.degreesVerified.length ? pr.degreesVerified.join(', ') : 'None verified'}</div>
      <div><strong>Transcripts verified:</strong> ${pr.transcriptsVerified ? 'Yes' : 'No'}</div>
      <div><strong>Patents found:</strong> ${pr.patents || 0}</div>
      <div><strong>Publications:</strong> ${pr.publications || 0}</div>
      <div><strong>Media mentions:</strong> ${pr.mediaMentions || 0}</div>
    `;

    // qualification bars and details (no numbers shown)
    setBarFill('compatBar', c.compatibility);
    setBarFill('peerBar', c.peer);
    setBarFill('positionBar', c.position);

    const past = c.pastCompanies && c.pastCompanies.length ? c.pastCompanies.join(', ') : 'No employers listed';
    const similarity = generateSimilarityComment(c.pastCompanies || [], c.title);
    const recList = (c.recommendations && c.recommendations.length) ? c.recommendations.map(r=>`<li>${r}</li>`).join('') : '<li>No recommendations</li>';
    document.getElementById('relevancyDetails').innerHTML = `
      <div><strong>Past companies:</strong> ${past}</div>
      <div style="margin-top:8px">${similarity}</div>
      <div style="margin-top:8px"><strong>Suggested roles:</strong></div>
      <ul class="reco-list">${recList}</ul>
    `;

    // strengths (3) and gaps (3) — both are objects {k,d}
    document.getElementById('strengthsList').innerHTML = (c.strengths || []).slice(0,3).map(s=>`<li><strong>${s.k}</strong>: ${s.d}</li>`).join('');
    document.getElementById('gapsList').innerHTML = (c.gaps || []).slice(0,3).map(g=>`<li><strong>${g.k}</strong>: ${g.d}</li>`).join('');

    // update left panel overall label/color if needed
    const leftItems = document.querySelectorAll('.candidate-item');
    if(leftItems[i]){
      const lbl = overallLabel(c.overallMatch);
      leftItems[i].querySelector('.compatibility-only').textContent = `Overall Match — ${lbl.label}`;
      leftItems[i].querySelector('.compatibility-only').className = 'compatibility-only ' + lbl.cls;
    }
  }

  function generateSimilarityComment(past, title){
    if(!past || past.length===0) return "No employer history available to compare.";
    const bigLike = ["Nimbus","Vertex","Quanta","Neural","Open","Cumulus","Aero","Signal"];
    const overlap = past.filter(p => bigLike.some(bl => p.toLowerCase().includes(bl.toLowerCase())));
    if(overlap.length) return `Worked at organizations with tech/research focus (${overlap.join(', ')}). Likely strong match to product/research teams.`;
    const startups = past.filter(p => /Lab|Startup|Ltd|Inc|Co|Systems|Labs|Research/i.test(p));
    if(startups.length) return `Background includes applied engineering at smaller research/startup orgs (${startups.join(', ')}). Matches hands-on productization roles.`;
    return `Past employers: ${past.join(', ')} — review team context for finer-grain similarity to this role.`;
  }

  // initial render
  renderLeft();

  // resizer logic
  (function(){
    const resizer = document.getElementById('resizer');
    const left = document.querySelector('.left');
    resizer.addEventListener('mousedown', startDrag);
    let startX, startW;
    function startDrag(e){ startX = e.clientX; startW = left.getBoundingClientRect().width; document.documentElement.addEventListener('mousemove', doDrag); document.documentElement.addEventListener('mouseup', stopDrag); document.body.style.userSelect='none'; }
    function doDrag(e){ const dx = e.clientX - startX; const newW = Math.min(Math.max(220, startW + dx), window.innerWidth - 420); left.style.width = newW + 'px'; }
    function stopDrag(){ document.documentElement.removeEventListener('mousemove', doDrag); document.documentElement.removeEventListener('mouseup', stopDrag); document.body.style.userSelect=''; }
  })();
</script>
</body>
</html>
